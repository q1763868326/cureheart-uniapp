(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-music-music"],{"0029":function(t,i,a){"use strict";var e=a("ee27");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e(a("a772")),o={components:{uniTransition:n.default},data:function(){return{currentdownload:"",isloading:!1,isdownload:!1,downloadlist:[],searched:!1,searchdata:[],searchvalue:"",searching:!1,timer:null,animation:null,animationData:{},src:"../../static/music_img.jpg",isplaying:!1,displaylist:!1,innerAudioContext:null,musiclist:[],currentmusic:"",playlist:{overflow:"hidden",position:"absolute",bottom:"0",width:"100%",height:"50vh","background-color":"white","border-radius":"36rpx",border:"6rpx solid #222"}}},onLoad:function(){var t=this;uni.getStorage({key:"musiclist",success:function(i){t.musiclist=i.data},fail:function(){uni.request({url:"http://116.62.47.156/getmusiclist/",method:"GET",success:function(i){t.musiclist=i.data["data"]}})}}),this.innerAudioContext=uni.createInnerAudioContext(),this.innerAudioContext.autoplay=!1,this.innerAudioContext.src=this.currentmusic,this.innerAudioContext.volume=.8;var i=this;this.innerAudioContext.onEnded((function(){var t=i.musiclist[Math.floor(Math.random()*i.musiclist.length)];i.innerAudioContext.src=t["src"],i.currentmusic=t["musicname"],i.innerAudioContext.play()}))},methods:{startdownload:function(t){console.log(t),window.location=t},getdownload:function(t){var i=this;this.isloading=!0,uni.request({url:"http://116.62.47.156/getdownload/",method:"POST",data:{songmid:t["songmid"],strMediaMid:t["strMediaMid"],type:t["type"]},success:function(a){i.currentdownload=t["musicname"],i.downloadlist=a.data["data"],i.isdownload=!0,i.isloading=!1},fail:function(){},complete:function(){}})},searchmusic:function(){var t=this;""!=this.searchvalue&&(this.isloading=!0,uni.request({url:"http://116.62.47.156/searchmusic?searchvalue="+this.searchvalue,success:function(i){t.searchdata=i.data["data"],t.searched=!0,t.searchvalue="",t.isloading=!1}}))},playmusic:function(t,i){this.innerAudioContext.stop(),this.innerAudioContext.src=t["src"],t["imgsrc"]?this.src=t["imgsrc"]:this.src="../../static/music_img.jpg",i&&this.musiclist.unshift(t),this.currentmusic=t["musicname"],this.innerAudioContext.play(),this.displaylist=!1,this.isplaying=!0,uni.setStorageSync("musiclist",this.musiclist)},playorstop:function(){var t=this;if(!this.innerAudioContext.src){var i=this.musiclist[Math.floor(Math.random()*this.musiclist.length)];this.innerAudioContext.src=i["src"],this.currentmusic=i["musicname"]}this.isplaying=!this.isplaying,this.isplaying?(this.innerAudioContext.play(),this.playanimation(),this.timer=setInterval(function(){t.playanimation()}.bind(this),5e3)):this.innerAudioContext.pause()},display:function(){this.displaylist=!0},closelist:function(){this.displaylist=!1},playanimation:function(){this.animation=uni.createAnimation({duration:5e3,timingFunction:"linear"}),this.animationData=this.animation.rotate(360).step().export()}}};i.default=o},"0f57":function(t,i,a){"use strict";a.r(i);var e=a("6af2"),n=a("acf8");for(var o in n)"default"!==o&&function(t){a.d(i,t,(function(){return n[t]}))}(o);a("1a2a");var s,r=a("f0c5"),l=Object(r["a"])(n["default"],e["b"],e["c"],!1,null,"149430a5",null,!1,e["a"],s);i["default"]=l.exports},"1a2a":function(t,i,a){"use strict";var e=a("9836"),n=a.n(e);n.a},"21f4":function(t,i,a){"use strict";var e,n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return t.isShow?a("v-uni-view",{ref:"ani",staticClass:"uni-transition",class:[t.ani.in],style:"transform:"+t.transform+";"+t.stylesObject,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.change.apply(void 0,arguments)}}},[t._t("default")],2):t._e()},o=[];a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return o})),a.d(i,"a",(function(){return e}))},"252d":function(t,i,a){var e=a("c88c");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("b928391a",e,!0,{sourceMap:!1,shadowMode:!1})},5390:function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,"@-webkit-keyframes xuanzhuan-data-v-149430a5{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes xuanzhuan-data-v-149430a5{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.inloading[data-v-149430a5]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-bottom:21vh;text-align:center;width:100%;height:%?70?%;-webkit-animation:spin-data-v-149430a5 2s linear infinite;animation:spin-data-v-149430a5 2s linear infinite}.searchlist[data-v-149430a5]{position:absolute;top:%?100?%;width:100%;height:%?1098?%}.cancle[data-v-149430a5]{position:absolute;top:%?25?%;left:%?610?%;width:%?125?%;height:%?56?%;overflow:visible;background-color:hsla(0,0%,100%,.76);-webkit-border-radius:%?78?%;border-radius:%?78?%}.searchcontent[data-v-149430a5]{width:%?440?%;height:%?38?%;overflow:visible;font-family:Inter,sans-serif;color:#000;font-size:16px;position:absolute;top:%?29?%;left:%?120?%;line-height:%?64?%;font-size:%?32?%;color:rgba(0,0,0,.8)}.searchbt-ing[data-v-149430a5]{width:%?64?%;height:%?64?%;position:absolute;top:%?20?%;bottom:%?20?%;right:%?26?%;left:%?30?%;line-height:%?64?%;font-size:%?50?%;color:rgba(0,0,0,.3)}.searchbt[data-v-149430a5]{width:%?64?%;height:%?64?%;position:absolute;top:%?20?%;bottom:%?20?%;right:%?30?%;left:%?660?%;line-height:%?64?%;font-size:%?50?%;color:rgba(0,0,0,.3)}.bartitle[data-v-149430a5]{position:absolute;top:%?12?%;bottom:%?14?%;left:%?306?%;right:%?296?%;width:%?148?%;height:%?70?%;overflow:visible;font-family:undefined,serif;color:#fff;font-size:%?58?%;letter-spacing:NaNpx;line-height:1.2}.searchbar[data-v-149430a5]{width:100%;height:%?100?%;background-color:#f01919}@-webkit-keyframes spin-data-v-149430a5{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin-data-v-149430a5{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.music_img[data-v-149430a5]{position:absolute;top:%?16?%;bottom:%?14?%;right:%?610?%;left:%?18?%;width:%?106?%;height:%?106?%;-webkit-border-radius:%?418?%;border-radius:%?418?%;-webkit-animation:spin-data-v-149430a5 5s linear infinite;animation:spin-data-v-149430a5 5s linear infinite}.music_img_noanimation[data-v-149430a5]{position:absolute;top:%?16?%;bottom:%?14?%;right:%?610?%;left:%?18?%;width:%?106?%;height:%?106?%;-webkit-border-radius:%?418?%;border-radius:%?418?%}.mask[data-v-149430a5]{position:fixed;width:%?750?%;height:50vh;background-color:rgba(0,153,255,0)}.delete[data-v-149430a5]{width:100%;text-align:end;line-height:%?68?%;font-size:%?34?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-right:%?25?%}.cuIcon-stop[data-v-149430a5]{font-weight:700}.item_name[data-v-149430a5]{overflow:scroll;font-family:HelveticaNeue-CondensedBlack,sans-serif;color:#e40c0c;-webkit-box-flex:10;-webkit-flex:10;flex:10;font-size:%?34?%;letter-spacing:0;line-height:%?68?%;text-align:left}.title[data-v-149430a5]{width:%?750?%;height:%?98?%;background-color:#fff;border:%?2?% solid #222;overflow:visible;font-family:Inter,sans-serif;color:#a39000;font-size:%?38?%;letter-spacing:%?0?%;line-height:%?98?%;padding-left:%?24?%;margin-bottom:%?5?%}.scrolllist[data-v-149430a5]{width:100%;height:100%;overflow:scroll;background-color:#fff}.musicitem[data-v-149430a5]{width:%?750?%;height:%?68?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?20?%;background-color:rgba(0,153,255,.5)}.playlist[data-v-149430a5]{overflow:hidden;position:absolute;top:%?650?%;bottom:%?0?%;width:100%;height:50vh;background-color:#fff;-webkit-border-radius:%?36?%;border-radius:%?36?%;border:%?6?% solid #222}.player[data-v-149430a5]{width:100%;height:%?136?%;position:absolute;bottom:0;background-color:#141415}.playbt[data-v-149430a5]{color:#f00000;position:absolute;top:%?28?%;bottom:%?28?%;left:%?526?%;right:%?144?%;text-align:center;font-size:%?80?%}.listbt[data-v-149430a5]{color:#0a74ff;position:absolute;text-align:center;line-height:100%;line-height:%?80?%;font-size:%?55?%;padding-top:%?3?%;top:%?28?%;bottom:%?28?%;left:%?642?%;right:%?28?%}.name_music[data-v-149430a5]{position:absolute;top:%?25?%;bottom:%?54?%;left:%?175?%;right:%?354?%;width:%?300?%;height:80%;overflow-wrap:break-word;overflow:hidden;opacity:.73;font-family:Inter,sans-serif;color:hsla(0,0%,100%,.93);font-size:%?30?%}",""]),t.exports=i},"6af2":function(t,i,a){"use strict";var e={uniTransition:a("a772").default},n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("uni-transition",{style:{width:"100%",position:"fixed"},attrs:{modeClass:["fade","slide-right"],duration:400,show:!t.searching}},[a("v-uni-view",{staticClass:"searchbar"},[a("v-uni-text",{staticClass:"bartitle"},[t._v("Music")]),a("v-uni-text",{staticClass:"cuIcon-search searchbt",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.searching=!0}}})],1)],1),a("uni-transition",{style:{width:"100%"},attrs:{modeClass:["fade","slide-right"],duration:400,show:t.searching}},[a("v-uni-view",{staticClass:"searchbar"},[a("v-uni-text",{staticClass:"cuIcon-search searchbt-ing"}),a("v-uni-input",{staticClass:"searchcontent",attrs:{placeholder:"请输入你要搜索的歌曲名/歌手","placeholder-style":"color:rgba(0,0,0,0.4)"},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.searchmusic.apply(void 0,arguments)}},model:{value:t.searchvalue,callback:function(i){t.searchvalue=i},expression:"searchvalue"}}),a("v-uni-button",{staticClass:"cu-btn cancle",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.searching=!1}}},[t._v("取消")])],1)],1),t.searched?a("v-uni-view",{staticClass:"searchlist"},[a("v-uni-view",{staticStyle:{position:"absolute",top:"24rpx",left:"20rpx",width:"100%",height:"58rpx","font-size":"48rpx","line-height":"58rpx"}},[a("v-uni-text",[t._v("搜索结果")])],1),a("v-uni-view",{staticStyle:{"overflow-y":"scroll",width:"100%",position:"relative",top:"90rpx",height:"974rpx"}},t._l(t.searchdata,(function(i,e){return a("v-uni-view",{key:e,staticStyle:{"margin-top":"20rpx",display:"flex","align-items":"center"}},[a("v-uni-image",{staticStyle:{flex:"1",width:"108rpx",height:"108rpx","border-radius":"120rpx"},attrs:{src:i["imgsrc"]}}),a("v-uni-view",{staticStyle:{flex:"5","flex-direction":"column","padding-left":"20rpx"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.playmusic(i,!0)}}},[a("v-uni-text",{staticStyle:{display:"block","font-size":"44rpx"}},[t._v(t._s(i["musicname"]))]),a("v-uni-text",{staticStyle:{"font-size":"28rpx","padding-left":"15rpx",opacity:"0.8"}},[t._v(t._s(i["singername"]))])],1),a("v-uni-text",{staticClass:"cuIcon-down",staticStyle:{flex:"1","font-size":"50rpx",opacity:"0.8"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.getdownload(i)}}})],1)})),1)],1):t._e(),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"player"},[a("v-uni-image",{class:t.isplaying?"music_img":"music_img_noanimation",attrs:{src:t.src}}),a("v-uni-text",{staticClass:"name_music"},[t._v(t._s(t.currentmusic))]),a("v-uni-text",{class:t.isplaying?"cuIcon-stop playbt":"cuIcon-playfill playbt",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.playorstop.apply(void 0,arguments)}}}),a("v-uni-text",{staticClass:"cuIcon-list listbt",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.display.apply(void 0,arguments)}}})],1),t.displaylist?a("v-uni-view",{staticClass:"mask",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closelist.apply(void 0,arguments)}}}):t._e(),a("uni-transition",{attrs:{modeClass:["fade","slide-bottom"],duration:700,styles:t.playlist,show:t.displaylist}},[a("v-uni-view",{staticClass:"title"},[a("v-uni-text",[t._v("播放列表")])],1),a("v-uni-view",{staticClass:"scrolllist"},t._l(t.musiclist,(function(i,e){return a("v-uni-view",{key:e,staticClass:"musicitem",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.playmusic(i,!1)}}},[a("v-uni-text",{staticClass:"cuIcon-sound",staticStyle:{color:"#e40c0c","font-size":"34rpx","margin-left":"10rpx","margin-right":"10rpx"}}),a("v-uni-text",{staticClass:"item_name"},[t._v(t._s(i["musicname"]))]),a("v-uni-text",{staticClass:"cuIcon-close delete"})],1)})),1)],1),a("uni-transition",{attrs:{modeClass:["fade","slide-right"],duration:700,styles:{width:"100%"},show:t.isdownload}},[a("v-uni-view",{staticStyle:{position:"fixed",top:"250rpx","border-radius":"50rpx",width:"604rpx",height:"660rpx",left:"74rpx","background-color":"#000000"}},[a("v-uni-view",{staticStyle:{display:"flex",width:"100%",height:"80rpx","padding-left":"30rpx"}},[a("v-uni-text",{staticStyle:{flex:"15","font-size":"38rpx",color:"#FFFFFF","line-height":"80rpx"}},[t._v("下载列表")]),a("v-uni-text",{staticClass:"cuIcon-close",staticStyle:{flex:"1",color:"#FFFFFF","line-height":"80rpx","font-size":"38rpx","margin-right":"30rpx","margin-top":"1rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.isdownload=!1}}})],1),t._l(t.downloadlist,(function(i,e){return a("v-uni-view",{key:e,staticStyle:{display:"flex",height:"110rpx",width:"542rpx","margin-left":"32rpx","background-color":"#e52424","border-radius":"12px","margin-top":"22rpx"}},[a("v-uni-view",{staticStyle:{flex:"5",display:"flex","flex-direction":"column"}},[a("v-uni-text",{staticStyle:{width:"100%","font-size":"38rpx",color:"#FFFFFF",opacity:"0.9","margin-top":"5rpx","margin-left":"10rpx"}},[t._v(t._s(t.currentdownload))]),a("v-uni-text",{staticStyle:{width:"100%","font-size":"22rpx",color:"#FFFFFF",opacity:"1","margin-top":"10rpx","margin-left":"20rpx"}},[t._v(t._s(i["type"]))])],1),a("v-uni-button",{staticStyle:{flex:"1",width:"142rpx",height:"72rpx","margin-top":"16rpx","border-radius":"20rpx","margin-right":"24rpx","line-height":"76rpx","font-size":"26rpx"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.startdownload(i["downloadurl"])}}},[t._v("下载")])],1)}))],2)],1),t.isloading?a("v-uni-view",{staticStyle:{position:"fixed",height:"100vh",width:"100%",display:"flex","justify-content":"center","align-items":"center"}},[a("v-uni-view",{staticClass:"inloading"},[a("v-uni-text",{staticClass:"cuIcon-loading2",staticStyle:{"font-size":"70rpx","font-weight":"bold","line-height":"70rpx","text-align":"center"}})],1),a("v-uni-text",{staticStyle:{position:"fixed",top:"48vh","font-size":"40rpx","font-weight":"bold","line-height":"70rpx"}},[t._v("正在加载")])],1):t._e()],1)},o=[];a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return o})),a.d(i,"a",(function(){return e}))},"776f":function(t,i,a){"use strict";a.r(i);var e=a("c56b"),n=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(i,t,(function(){return e[t]}))}(o);i["default"]=n.a},9836:function(t,i,a){var e=a("5390");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("f224e576",e,!0,{sourceMap:!1,shadowMode:!1})},a772:function(t,i,a){"use strict";a.r(i);var e=a("21f4"),n=a("776f");for(var o in n)"default"!==o&&function(t){a.d(i,t,(function(){return n[t]}))}(o);a("da03");var s,r=a("f0c5"),l=Object(r["a"])(n["default"],e["b"],e["c"],!1,null,"5e6812cd",null,!1,e["a"],s);i["default"]=l.exports},acf8:function(t,i,a){"use strict";a.r(i);var e=a("0029"),n=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(i,t,(function(){return e[t]}))}(o);i["default"]=n.a},c56b:function(t,i,a){"use strict";var e=a("ee27");a("4160"),a("a9e3"),a("ac1f"),a("5319"),a("159b"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e(a("f3f3")),o={name:"uniTransition",props:{show:{type:Boolean,default:!1},modeClass:{type:Array,default:function(){return[]}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}}},data:function(){return{isShow:!1,transform:"",ani:{in:"",active:""}}},watch:{show:{handler:function(t){t?this.open():this.close()},immediate:!0}},computed:{stylesObject:function(){var t=(0,n.default)({},this.styles,{"transition-duration":this.duration/1e3+"s"}),i="";for(var a in t){var e=this.toLine(a);i+=e+":"+t[a]+";"}return i}},created:function(){},methods:{change:function(){this.$emit("click",{detail:this.isShow})},open:function(){var t=this;for(var i in clearTimeout(this.timer),this.isShow=!0,this.transform="",this.ani.in="",this.getTranfrom(!1))"opacity"===i?this.ani.in="fade-in":this.transform+="".concat(this.getTranfrom(!1)[i]," ");this.$nextTick((function(){setTimeout((function(){t._animation(!0)}),50)}))},close:function(t){clearTimeout(this.timer),this._animation(!1)},_animation:function(t){var i=this,a=this.getTranfrom(t);for(var e in this.transform="",a)"opacity"===e?this.ani.in="fade-".concat(t?"out":"in"):this.transform+="".concat(a[e]," ");this.timer=setTimeout((function(){t||(i.isShow=!1),i.$emit("change",{detail:i.isShow})}),this.duration)},getTranfrom:function(t){var i={transform:""};return this.modeClass.forEach((function(a){switch(a){case"fade":i.opacity=t?1:0;break;case"slide-top":i.transform+="translateY(".concat(t?"0":"-100%",") ");break;case"slide-right":i.transform+="translateX(".concat(t?"0":"100%",") ");break;case"slide-bottom":i.transform+="translateY(".concat(t?"0":"100%",") ");break;case"slide-left":i.transform+="translateX(".concat(t?"0":"-100%",") ");break;case"zoom-in":i.transform+="scale(".concat(t?1:.8,") ");break;case"zoom-out":i.transform+="scale(".concat(t?1:1.2,") ");break}})),i},_modeClassArr:function(t){var i=this.modeClass;if("string"!==typeof i){var a="";return i.forEach((function(i){a+=i+"-"+t+","})),a.substr(0,a.length-1)}return i+"-"+t},toLine:function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}}};i.default=o},c88c:function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,".uni-transition[data-v-5e6812cd]{-webkit-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}.fade-in[data-v-5e6812cd]{opacity:0}.fade-active[data-v-5e6812cd]{opacity:1}.slide-top-in[data-v-5e6812cd]{\n\t/* transition-property: transform, opacity; */-webkit-transform:translateY(-100%);transform:translateY(-100%)}.slide-top-active[data-v-5e6812cd]{-webkit-transform:translateY(0);transform:translateY(0)\n\t/* opacity: 1; */}.slide-right-in[data-v-5e6812cd]{-webkit-transform:translateX(100%);transform:translateX(100%)}.slide-right-active[data-v-5e6812cd]{-webkit-transform:translateX(0);transform:translateX(0)}.slide-bottom-in[data-v-5e6812cd]{-webkit-transform:translateY(100%);transform:translateY(100%)}.slide-bottom-active[data-v-5e6812cd]{-webkit-transform:translateY(0);transform:translateY(0)}.slide-left-in[data-v-5e6812cd]{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.slide-left-active[data-v-5e6812cd]{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}.zoom-in-in[data-v-5e6812cd]{-webkit-transform:scale(.8);transform:scale(.8)}.zoom-out-active[data-v-5e6812cd]{-webkit-transform:scale(1);transform:scale(1)}.zoom-out-in[data-v-5e6812cd]{-webkit-transform:scale(1.2);transform:scale(1.2)}",""]),t.exports=i},da03:function(t,i,a){"use strict";var e=a("252d"),n=a.n(e);n.a}}]);